
<h1 style="font-family: typo-grotesk-rounded; font-weight: bold;">Procesos</h1>

<div class="createUser">
    <button pButton
        class="p-button-info"
        icon="pi pi-plus"
        iconPos="left"
        label="Crear nuevo proceso"
        (click)="processRegisterPopUp()"
    ></button>
    <div class="p-grid p-fluid search-panel">
        <div class="p-col-12 p-md-4">
            <div class="grupo">
                <button pButton
                    type="button"
                    icon="pi pi-search"
                    iconPos="left"
                    (click)="filterProcessTable()"
                ></button>
                <p-inputNumber
                    class="fields"
                    inputId="integeronly"
                    placeholder="Ingrese ID del proceso"
                    [(ngModel)]="processId"
                ></p-inputNumber>
                <input pInputText
                    class="fields"
                    placeholder="Nombre de proceso"
                    [(ngModel)]="processName"
                >
            </div>
        </div>
    </div>

    <p-button type="button" styleClass="p-button-help" label="Limpiar filtro" (click)="resetTable()" icon="pi pi-replay" iconPos="left"></p-button>
    <p-table [value]="processesList" responsiveLayout="scroll">
        <ng-template pTemplate="header">
            <tr>
                <th>ID</th>
                <th>Nombre</th>
                <th>Creación</th>
                <th>Modificación</th>
                <th>Propietario</th>
                <th>Usuario de creación</th>
                <th>UID usuario</th>
                <th>Status</th>
                <th>Acciones</th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-processesList>
            <tr>
                <td>{{ processesList.idProcess }}</td>
                <td>{{ processesList.processName }}</td>
                <td>{{ processesList.processCreationAt | date: shortDate }}</td>
                <td>{{ processesList.processUpdaeAt | date: shortDate }}</td>
                <td>{{ processesList.nameOwner }}</td>
                <td>{{ processesList.userName }}</td>
                <td>{{ processesList.uid }}</td>
                <td>{{ processesList.processStatus | showStatus }}</td>
                <td>
                    <div class="button-section">
                        <button pButton pRipple
                            type="button"
                            icon="pi pi-pencil"
                            class="p-button-rounded p-button-info p-button-text"
                            (click)="editProcessPopUp( processesList.idProcess, processesList.processName )"
                        ></button>
                        <button pButton pRipple *ngIf="processesList.processStatus"
                            type="button"
                            icon="pi pi-trash"
                            class="p-button-rounded p-button-danger p-button-text"
                            (click)="deleteProcess( processesList.idProcess )"
                        ></button>
                    </div>
                </td>
            </tr>
        </ng-template>
        
        
    </p-table>
</div>